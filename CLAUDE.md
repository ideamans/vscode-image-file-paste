# このプロジェクトは

Visual Studio Code の機能拡張で、今開いている画像ファイルにクリップボードから画像をペーストして更新できる機能を実現するものです。

# ユースケース

- 他のグラフィックエディタからコピーした画像で、現在編集中の画像を更新したい
- 新しい画像空ファイルを作成し、クリップボードの画像をペーストして画像を用意したい

# 機能

## 基本機能

- 画像ファイルを開いている場合にのみ反応
  - アクティブな編集ウィンドウが画像以外の場合は何もしない
- 拡張子に応じた形式変換
  - 大抵クリップボードにある画像データは PNG 形式なので、ペースト先の画像ファイルフォーマットが PNG 以外であれば、拡張子から推定した形式に変換する
  - 出力先が JPEG であれば品質 85 で変換する
- クリップボードが画像以外の場合
  - エラーを表示する。ただしポップアップのような操作を妨げるものではなく目立ちつつ、放置していたら消えるものにする

## リサイズしてペースト機能

- 右クリックコンテキストメニューに「リサイズしてペースト」を追加
  - 画像ファイル（.png, .jpg, .jpeg, .gif, .webp）を開いている時のみ表示
- 実行時の動作：
  1. 現在開いている画像の横幅ピクセル数を表示
  2. 希望の横幅ピクセル数を入力させる（入力ボックス）
  3. アスペクト比を維持して画像をリサイズ
  4. リサイズした画像を現在のファイルにペースト
- 画像処理はポータビリティの高いライブラリを使用（node-canvas または pureimage）

## Undo機能

- ペースト実行前に元の画像データを一時保存
- 「元に戻す（Undo）」コマンドで直前のペースト操作を取り消し可能
- VS Code の標準的な Undo 操作（Ctrl+Z / Cmd+Z）に統合
